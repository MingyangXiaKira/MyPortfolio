import{r as i,M as m,i as c,a as l,f,b as g,u as y}from"./index-95d06e15.js";import{b as S}from"./use-scroll-e46618ed.js";function M(e,r={}){const{isStatic:p}=i.useContext(m),n=i.useRef(null),t=S(c(e)?e.get():e),s=()=>{n.current&&n.current.stop()};return i.useInsertionEffect(()=>t.attach((a,o)=>{if(p)return o(a);if(s(),n.current=l({keyframes:[t.get(),a],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...r,onUpdate:o}),!f.isProcessing){const u=performance.now()-f.timestamp;u<30&&(n.current.time=g(u))}return t.get()},s),[JSON.stringify(r)]),y(()=>{if(c(e))return e.on("change",a=>t.set(parseFloat(a)))},[t]),t}export{M as u};
